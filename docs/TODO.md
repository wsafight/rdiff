# 待办事项列表

## 🎯 高优先级

### 核心功能
- [ ] **JSON 输出格式** - 导出 diff 结果为 JSON，用于程序化使用
  - 添加 `--format json` 选项
  - 结构化输出，便于 CI/CD 集成

- [ ] **HTML 导出** - 生成静态 HTML 报告
  - `--output report.html` 选项
  - 独立的 HTML 文件，包含嵌入的 CSS/JS
  - 无需服务器即可查看

- [ ] **忽略模式** - 支持 `.gitignore` 风格的规则
  - `--exclude` 选项用于模式匹配
  - 从 `.rdiffignore` 文件读取配置
  - 对比 git 仓库时尊重 `.gitignore`

### Web 功能
- [ ] **语法高亮** - 针对特定语言的语法着色
  - 根据文件扩展名检测文件类型
  - 使用 Tree-sitter 或类似工具
  - 支持流行语言（JS、Python、Rust 等）

- [ ] **搜索功能** - Web 视图中的搜索
  - 跨所有文件搜索
  - 高亮显示匹配项
  - 在匹配项之间导航

- [ ] **书签/锚点** - 指向特定行的直接链接
  - URL 带行号锚点
  - 分享特定 diff 位置

### 性能
- [ ] **增量 Diff** - 智能重新计算
  - 缓存之前的结果
  - 只重新计算变更的文件
  - 适用于监视模式

- [ ] **大文件流式处理** - 按块处理文件
  - 不将整个文件加载到内存
  - Web 视图中的渐进式渲染
  - 更适合多 GB 文件

## 🚀 中优先级

### Git 集成
- [ ] **对比 Git 分支** - 直接分支对比
  - `rdiff git branch1 branch2`
  - 对比提交
  - 与 git 历史集成

- [ ] **显示未提交的更改** - 类似 `git diff`
  - `rdiff git status`
  - 从 Web UI 暂存/取消暂存

### 用户体验
- [ ] **配置文件** - 用户偏好设置
  - `~/.config/rdiff/config.toml`
  - 默认选项、主题等
  - 项目级 `.rdiffrc`

- [ ] **监视模式** - 文件变更时自动刷新
  - `rdiff file1 file2 --watch --web`
  - 浏览器实时重载
  - 适用于开发

- [ ] **主题** - 深色/浅色模式支持
  - Web 界面深色主题
  - 终端配色方案
  - 用户可自定义

### 高级 Diff
- [ ] **词级 Diff** - 高亮变更的词，而不仅是行
  - 行内更细粒度的 diff
  - 适用于文档/散文

- [ ] **语义 Diff** - 语言感知对比
  - 理解代码结构
  - 忽略格式化更改
  - 专注于语义变化

- [ ] **三向合并** - 对比 3 个文件
  - 合并冲突解决
  - Base、theirs、ours 视图

## 📊 低优先级 / 未来想法

### 输出格式
- [ ] **Markdown 输出** - 生成 markdown 报告
- [ ] **PDF 导出** - 专业报告
- [ ] **CSV/Excel** - 表格 diff 数据

### 高级功能
- [ ] **图片 Diff** - 图片的可视对比
  - 并排图片视图
  - 滑块叠加模式
  - 像素级对比

- [ ] **归档对比** - 对比 .zip、.tar.gz 内容
  - 提取并对比
  - 忽略时间戳

- [ ] **剪贴板集成** - 复制 diff 到剪贴板
  - 复制为文本、HTML、markdown
  - 从剪贴板粘贴快速对比

### Web 增强
- [ ] **协作功能** - 与团队共享 diff
  - 托管 diff 服务
  - 在特定行上评论
  - 审批工作流

- [ ] **Diff 统计仪表板** - 分析视图
  - 变更随时间的图表
  - 代码流失指标
  - 贡献者统计

### 集成
- [ ] **IDE 插件** - VS Code、IntelliJ 扩展
  - 右键对比
  - 内联 diff 视图

- [ ] **CI/CD 集成** - GitHub Actions、GitLab CI
  - 自动 diff 报告
  - PR/MR 评论
  - 基于 diff 大小的质量门

### 测试与质量
- [ ] **全面的测试套件** - 将覆盖率提高到 90%+
  - 所有模块的单元测试
  - 集成测试
  - 基于属性的测试

- [ ] **基准测试套件** - 性能回归测试
  - 自动化基准测试
  - 跨版本跟踪性能
  - 与其他工具对比（diff、git diff 等）

- [ ] **模糊测试** - 发现边缘情况
  - 使用 cargo-fuzz 进行模糊测试
  - 优雅处理格式错误的输入

## 🐛 已知问题

- [ ] 并排视图在极长行时对齐问题
- [ ] 极大目录（10,000+ 文件）时内存使用峰值
- [ ] Unicode 字符在终端输出中有时错位
- [ ] Web 服务器不能优雅地处理 SIGTERM

## 💡 增强想法

- [ ] 自定义 diff 算法的插件系统
- [ ] API 服务器模式（RESTful API）
- [ ] 桌面 GUI 应用（使用 Tauri 或类似工具）
- [ ] 快速文件对比的移动应用
- [ ] 云存储集成（Dropbox、Google Drive、S3）

## 📝 文档改进

- [ ] 视频教程（YouTube）
- [ ] 网站上的交互式示例
- [ ] 与其他工具的对比
- [ ] 架构深入探讨
- [ ] 详细设置的贡献指南

---

## 如何贡献

从列表中选择任何项目：
1. 在相关 issue 上评论（或创建一个）
2. Fork 仓库并创建功能分支
3. 实现功能并编写测试
4. 提交带有描述的 PR

**图例：**
- 🎯 高优先级 - 核心功能，对大多数用户重要
- 🚀 中优先级 - 很好，显著改善用户体验
- 📊 低优先级 - 未来想法，可选增强

---

最后更新：2026-01-17
